<app-toast-component #toast></app-toast-component>

@if(fechaMaxima!=undefined){
<form [formGroup]="compraForm" (submit)="comprar()">
  <label>Codigo de proyeccion:</label>
  <input type="text" class="form-control bg-info-subtle" formControlName="codigoProyeccion" />
  <br />
  <div class="row g-3">
    <div class="col-6">
      <label for="fecha" class="form-label">Fecha de compra:</label>
      <input
        type="date"
        [max]="fechaMaxima"
        class="form-control"
        id="fecha"
        name="fecha"
        formControlName="fechaCompra"
      />
    </div>

    <div class="col-6">
      <label for="cantidad" class="form-label">Cantidad de Boletos (Maximo 5 boletos):</label>
      <input
        min="1"
        max="5"
        type="number"
        class="form-control"
        id="cantidad"
        name="cantidad"
        formControlName="cantidad"
        [class.is-invalid]="
          compraForm.controls['cantidad'].dirty && compraForm.controls['cantidad'].invalid
        "
      />
    </div>

    <input type="hidden" class="form-control" formControlName="idUsuario" />
  </div>
  <hr class="my-4" />
  <div class="d-grid gap-2 d-md-flex justify-content-lg-center">
    <button class="btn btn-success" [disabled]="compraForm.invalid">
      <strong>Realizar Compra</strong>
    </button>
  </div>
</form>
}
